{
	"info": {
		"_postman_id": "ceede24a-8d28-4d19-8725-eb404323db80",
		"name": "Trello",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Get Token",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "ccb5c000-7a00-42e1-bd33-f909011f9889",
						"exec": [
							"const jsonData = pm.response.json(); \r",
							"\r",
							"pm.test('Code Status', function() {\r",
							"    pm.expect(pm.response.code).to.equal(200)\r",
							"})\r",
							"\r",
							"pm.test('idMember present', function() {\r",
							"    pm.expect(jsonData).to.have.property('idMember'); \r",
							"});\r",
							"\r",
							"pm.globals.set('TrelloId', jsonData.id);\r",
							"pm.globals.set('MemberId', jsonData.idMember)"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "f38b98c8-160b-4979-a562-fc690c8782e6",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/tokens/{{token}}?key={{API_key}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"tokens",
						"{{token}}"
					],
					"query": [
						{
							"key": "key",
							"value": "{{API_key}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Create boards",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "973c33ea-d760-438e-a393-2f33974d0c3f",
						"exec": [
							"pm.test('Code Status', function() {\r",
							"    pm.expect(pm.response.code).to.equal(200)\r",
							"})"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "98445ecc-2986-48e2-9d82-8aa140fbd3e7",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "APIKey",
						"value": "{{API_key}}",
						"type": "text",
						"disabled": true
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/boards/?name=API Tableau&key={{API_key}}&token={{token}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"boards",
						""
					],
					"query": [
						{
							"key": "name",
							"value": "API Tableau"
						},
						{
							"key": "key",
							"value": "{{API_key}}"
						},
						{
							"key": "token",
							"value": "{{token}}"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Boards Members",
			"id": "d8d43c41-e8b9-49a5-b00b-5ac9b79b877b",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/members/{{MemberId}}/boards/?{{params_url}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"members",
						"{{MemberId}}",
						"boards",
						""
					],
					"query": [
						{
							"key": "{{params_url}}",
							"value": null
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "get a board",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "cb15ec87-cc44-48cc-9089-e346adc84c47",
						"exec": [
							"pm.test('Code Status', function(){",
							"    pm.expect(pm.response.code).to.equal(200)",
							"})",
							"",
							"pm.test('name visible', function(){",
							"    const Jsondata = pm.response.json();",
							"    pm.expect(Jsondata.name).to.contain(\"Projet_Final_G1\")",
							"})"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "8054070d-850d-41a1-b11b-72ee9d849ea2",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/boards/{{IdBoards}}?{{params_url}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"boards",
						"{{IdBoards}}"
					],
					"query": [
						{
							"key": "{{params_url}}",
							"value": null
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Create a List",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "3839999a-690b-48b8-97d3-0383c9953a97",
						"exec": [
							"pm.test('Code Status OK', function() {\r",
							"    pm.expect(pm.response.code).to.equal(200)\r",
							"})"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "f06bcd17-021b-42aa-a595-35040b3fcc32",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{base_url}}/lists/?name=Test API&idBoard={{IdBoards}}&{{params_url}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"lists",
						""
					],
					"query": [
						{
							"key": "name",
							"value": "Test API"
						},
						{
							"key": "idBoard",
							"value": "{{IdBoards}}"
						},
						{
							"key": "{{params_url}}",
							"value": null
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Add Card",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "31194147-3061-4217-9e4a-369945a2c876",
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "8eb9d31d-2ce4-4618-9e20-3d74c2175c10",
						"exec": [
							"pm.test(\"Code Status OK\", function(){\r",
							"    pm.expect(pm.response.code).to.equal(200)\r",
							"})"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"id": "830cf32e-39cf-4e80-b20c-d0b00d819750",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\" : \"Postman API v2\",\r\n    \"desc\" : \"Test d'ajout de carte via API\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/cards/?idList={{listId}}&{{params_url}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"cards",
						""
					],
					"query": [
						{
							"key": "idList",
							"value": "{{listId}}"
						},
						{
							"key": "{{params_url}}",
							"value": null
						}
					]
				}
			},
			"response": []
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": {
			"token": "{{token}}"
		}
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "993354ae-e843-4994-ab46-fbcf1ae41872",
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "a66e0b5f-aea9-4ea0-96fc-adeb9735f53d",
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	]
}